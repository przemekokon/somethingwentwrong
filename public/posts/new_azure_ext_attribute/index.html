<!doctype html><html lang=en dir=auto data-theme=dark><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Creating and Configuring Entra Extension Attributes | SomethingWentWrong.dev</title><meta name=keywords content="powershell,microsoft-graph,entra-id"><meta name=description content='Microsoft Exchange spoiled us - mail-enabled objects always had a set of custom attributes ready to use out of the box. Entra ID is less generous, you have to extend the schema yourself from scratch.
1. Create an Application Registration
Application Registration works s a namespace for an extension attributes.


1


New-MgApplication -DisplayName "Extension Attribute Sample Application" -SignInAudience AzureADMyOrg


2. Create an Extension Property
Now we create an attribute itself.


1


New-MgApplicationExtensionProperty -ApplicationId <Id> -Name "Att1" -DataType String -TargetObjects @("Group")


3. Create a Service Principal
Without a Service Principal, the extension attributes are defined but cannot be used - the application exists only as a &lsquo;definition&rsquo;, not as an active entity in your tenant.'><meta name=author content="Przemek"><link rel=canonical href=http://localhost:1313/posts/new_azure_ext_attribute/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/new_azure_ext_attribute/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script>localStorage.getItem("pref-theme")==="light"&&(document.querySelector("html").dataset.theme="light")</script><style>.no-light-modal{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#0a0a0a;border:2px solid #404040;padding:2rem;border-radius:8px;z-index:9999;box-shadow:0 0 80px rgba(0,0,0,.9);max-width:400px;text-align:center}.no-light-modal.show{display:block;animation:modalFadeIn .3s ease}@keyframes modalFadeIn{from{opacity:0;transform:translate(-50%,-45%)}to{opacity:1;transform:translate(-50%,-50%)}}.no-light-modal p{color:#b0b0b0;margin:1rem 0;line-height:1.6;font-size:1.1rem}.no-light-modal p.subtitle{color:#666;font-size:.9em;font-style:italic}.no-light-modal button{background:#1a1a1a;border:1px solid #404040;padding:.75rem 2rem;border-radius:4px;cursor:pointer;color:#888;font-weight:400;font-size:1rem;margin-top:1rem;transition:all .2s ease}.no-light-modal button:hover{background:#252525;border-color:#555;color:#aaa}.modal-backdrop{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.95);z-index:9998}.modal-backdrop.show{display:block;animation:backdropFadeIn .3s ease}@keyframes backdropFadeIn{from{opacity:0}to{opacity:1}}</style><div class=modal-backdrop id=modal-backdrop onclick=closeNoLightModal()></div><div class=no-light-modal id=no-light-modal><p>There is no light out here.</p><p class=subtitle>Dark mode is the only mode.</p><button onclick=closeNoLightModal()>Accept</button></div><script>function closeNoLightModal(){document.getElementById("no-light-modal").classList.remove("show"),document.getElementById("modal-backdrop").classList.remove("show"),document.body.classList.remove("light"),document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")}document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("theme-toggle")||document.querySelector('[aria-label*="theme"]')||document.querySelector(".theme-toggle");e&&(e.setAttribute("title","There is no light out here"),e.addEventListener("click",function(e){return e.preventDefault(),e.stopPropagation(),document.getElementById("no-light-modal").classList.add("show"),document.getElementById("modal-backdrop").classList.add("show"),document.body.classList.remove("light"),document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"),!1},!0)),document.body.classList.remove("light"),document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark")}),document.addEventListener("keydown",function(e){e.key==="Escape"&&closeNoLightModal()})</script><meta property="og:url" content="http://localhost:1313/posts/new_azure_ext_attribute/"><meta property="og:site_name" content="SomethingWentWrong.dev"><meta property="og:title" content="Creating and Configuring Entra Extension Attributes"><meta property="og:description" content='Microsoft Exchange spoiled us - mail-enabled objects always had a set of custom attributes ready to use out of the box. Entra ID is less generous, you have to extend the schema yourself from scratch.
1. Create an Application Registration Application Registration works s a namespace for an extension attributes.
1 New-MgApplication -DisplayName "Extension Attribute Sample Application" -SignInAudience AzureADMyOrg 2. Create an Extension Property Now we create an attribute itself.
1 New-MgApplicationExtensionProperty -ApplicationId <Id> -Name "Att1" -DataType String -TargetObjects @("Group") 3. Create a Service Principal Without a Service Principal, the extension attributes are defined but cannot be used - the application exists only as a ‘definition’, not as an active entity in your tenant.'><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-02-13T00:00:00+00:00"><meta property="article:modified_time" content="2026-02-13T00:00:00+00:00"><meta property="article:tag" content="Powershell"><meta property="article:tag" content="Microsoft-Graph"><meta property="article:tag" content="Entra-Id"><meta name=twitter:card content="summary"><meta name=twitter:title content="Creating and Configuring Entra Extension Attributes"><meta name=twitter:description content='Microsoft Exchange spoiled us - mail-enabled objects always had a set of custom attributes ready to use out of the box. Entra ID is less generous, you have to extend the schema yourself from scratch.
1. Create an Application Registration
Application Registration works s a namespace for an extension attributes.


1


New-MgApplication -DisplayName "Extension Attribute Sample Application" -SignInAudience AzureADMyOrg


2. Create an Extension Property
Now we create an attribute itself.


1


New-MgApplicationExtensionProperty -ApplicationId <Id> -Name "Att1" -DataType String -TargetObjects @("Group")


3. Create a Service Principal
Without a Service Principal, the extension attributes are defined but cannot be used - the application exists only as a &lsquo;definition&rsquo;, not as an active entity in your tenant.'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Creating and Configuring Entra Extension Attributes","item":"http://localhost:1313/posts/new_azure_ext_attribute/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Creating and Configuring Entra Extension Attributes","name":"Creating and Configuring Entra Extension Attributes","description":"Microsoft Exchange spoiled us - mail-enabled objects always had a set of custom attributes ready to use out of the box. Entra ID is less generous, you have to extend the schema yourself from scratch.\n1. Create an Application Registration Application Registration works s a namespace for an extension attributes.\n1 New-MgApplication -DisplayName \u0026#34;Extension Attribute Sample Application\u0026#34; -SignInAudience AzureADMyOrg 2. Create an Extension Property Now we create an attribute itself.\n1 New-MgApplicationExtensionProperty -ApplicationId \u0026lt;Id\u0026gt; -Name \u0026#34;Att1\u0026#34; -DataType String -TargetObjects @(\u0026#34;Group\u0026#34;) 3. Create a Service Principal Without a Service Principal, the extension attributes are defined but cannot be used - the application exists only as a \u0026lsquo;definition\u0026rsquo;, not as an active entity in your tenant.\n","keywords":["powershell","microsoft-graph","entra-id"],"articleBody":"Microsoft Exchange spoiled us - mail-enabled objects always had a set of custom attributes ready to use out of the box. Entra ID is less generous, you have to extend the schema yourself from scratch.\n1. Create an Application Registration Application Registration works s a namespace for an extension attributes.\n1 New-MgApplication -DisplayName \"Extension Attribute Sample Application\" -SignInAudience AzureADMyOrg 2. Create an Extension Property Now we create an attribute itself.\n1 New-MgApplicationExtensionProperty -ApplicationId \u003cId\u003e -Name \"Att1\" -DataType String -TargetObjects @(\"Group\") 3. Create a Service Principal Without a Service Principal, the extension attributes are defined but cannot be used - the application exists only as a ‘definition’, not as an active entity in your tenant.\n1 New-MgServicePrincipal -AppId \u003cAppId\u003e 4. Verify the Extension Property 1 Get-MgApplicationExtensionProperty -ApplicationId \u003cId\u003e | ft Name The extension attribute name follows this convention:\nextension_{ServicePrincipalObjectIdWithoutHyphens}_{AttributeName} Example:\nextension_0bff5cf1c92f438e95aaab5fc59c0743_Att1 5. Set the Attribute on a Group Prepare the body parameter using the full extension attribute name:\n1 $att1 = @{extension_0bff5cf1c92f438e95aaab5fc59c0743_Att1 = \"Sample Value\"} Update the group:\n1 Update-MgGroup -GroupId \u003cGroupId\u003e -BodyParameter $att1 6. Verify the Result 1 (Get-MgGroup -GroupId \u003cGroupId\u003e).AdditionalProperties | ft How it all fits together The arrows show how Application ID and AppId flow through the subsequent commands\nNotes After creating the Service Principal, wait a few minutes for sync, before attempting to set any attribute values Step 2’s -TargetObjects parameter supports multiple object types: User, Group, AdministrativeUnit, Application, Device, and Organization ","wordCount":"235","inLanguage":"en","datePublished":"2026-02-13T00:00:00Z","dateModified":"2026-02-13T00:00:00Z","author":{"@type":"Person","name":"Przemek"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/new_azure_ext_attribute/"},"publisher":{"@type":"Organization","name":"SomethingWentWrong.dev","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="SomethingWentWrong.dev (Alt + H)">SomethingWentWrong.dev</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/posts/ title=Posts><span>Posts</span></a></li><li><a href=http://localhost:1313/tags/ title=Tags><span>Tags</span></a></li><li><a href=http://localhost:1313/contact/ title=Contact><span>Contact</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Creating and Configuring Entra Extension Attributes</h1><div class=post-meta><span title='2026-02-13 00:00:00 +0000 UTC'>February 13, 2026</span>&nbsp;·&nbsp;<span>2 min</span>&nbsp;·&nbsp;<span>235 words</span>&nbsp;·&nbsp;<span>Przemek</span>&nbsp;|&nbsp;<span>
<a href=https://github.com/przemekokon/somethingwentwrong/tree/main/content/posts/new_azure_ext_attribute.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></span></div></header><div class=post-content><p>Microsoft Exchange spoiled us - mail-enabled objects always had a set of custom attributes ready to use out of the box. Entra ID is less generous, you have to extend the schema yourself from scratch.</p><h2 id=1-create-an-application-registration>1. Create an Application Registration<a hidden class=anchor aria-hidden=true href=#1-create-an-application-registration>#</a></h2><p>Application Registration works s a namespace for an extension attributes.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>New-MgApplication</span> <span class=n>-DisplayName</span> <span class=s2>&#34;Extension Attribute Sample Application&#34;</span> <span class=n>-SignInAudience</span> <span class=n>AzureADMyOrg</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=2-create-an-extension-property>2. Create an Extension Property<a hidden class=anchor aria-hidden=true href=#2-create-an-extension-property>#</a></h2><p>Now we create an attribute itself.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>New-MgApplicationExtensionProperty</span> <span class=n>-ApplicationId</span> <span class=p>&lt;</span><span class=n>Id</span><span class=p>&gt;</span> <span class=n>-Name</span> <span class=s2>&#34;Att1&#34;</span> <span class=n>-DataType</span> <span class=n>String</span> <span class=n>-TargetObjects</span> <span class=vm>@</span><span class=p>(</span><span class=s2>&#34;Group&#34;</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=3-create-a-service-principal>3. Create a Service Principal<a hidden class=anchor aria-hidden=true href=#3-create-a-service-principal>#</a></h2><p>Without a Service Principal, the extension attributes are defined but cannot be used - the application exists only as a &lsquo;definition&rsquo;, not as an active entity in your tenant.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>New-MgServicePrincipal</span> <span class=n>-AppId</span> <span class=p>&lt;</span><span class=n>AppId</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=4-verify-the-extension-property>4. Verify the Extension Property<a hidden class=anchor aria-hidden=true href=#4-verify-the-extension-property>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Get-MgApplicationExtensionProperty</span> <span class=n>-ApplicationId</span> <span class=p>&lt;</span><span class=n>Id</span><span class=p>&gt;</span> <span class=p>|</span> <span class=nb>ft </span><span class=n>Name</span>
</span></span></code></pre></td></tr></table></div></div><p>The extension attribute name follows this convention:</p><pre tabindex=0><code>extension_{ServicePrincipalObjectIdWithoutHyphens}_{AttributeName}
</code></pre><p>Example:</p><pre tabindex=0><code>extension_0bff5cf1c92f438e95aaab5fc59c0743_Att1
</code></pre><h2 id=5-set-the-attribute-on-a-group>5. Set the Attribute on a Group<a hidden class=anchor aria-hidden=true href=#5-set-the-attribute-on-a-group>#</a></h2><p>Prepare the body parameter using the full extension attribute name:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nv>$att1</span> <span class=p>=</span> <span class=vm>@</span><span class=p>{</span><span class=n>extension_0bff5cf1c92f438e95aaab5fc59c0743_Att1</span> <span class=p>=</span> <span class=s2>&#34;Sample Value&#34;</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Update the group:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=nb>Update-MgGroup</span> <span class=n>-GroupId</span> <span class=p>&lt;</span><span class=n>GroupId</span><span class=p>&gt;</span> <span class=n>-BodyParameter</span> <span class=nv>$att1</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=6-verify-the-result>6. Verify the Result<a hidden class=anchor aria-hidden=true href=#6-verify-the-result>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-powershell data-lang=powershell><span class=line><span class=cl><span class=p>(</span><span class=nb>Get-MgGroup</span> <span class=n>-GroupId</span> <span class=p>&lt;</span><span class=n>GroupId</span><span class=p>&gt;).</span><span class=py>AdditionalProperties</span> <span class=p>|</span> <span class=nb>ft
</span></span></span></code></pre></td></tr></table></div></div><h2 id=how-it-all-fits-together>How it all fits together<a hidden class=anchor aria-hidden=true href=#how-it-all-fits-together>#</a></h2><figure><img loading=lazy src=/images/ext_attribute.png alt="Entra ID Extension Attributes - complete workflow"><figcaption><p>The arrows show how Application ID and AppId flow through the subsequent commands</p></figcaption></figure><h2 id=notes>Notes<a hidden class=anchor aria-hidden=true href=#notes>#</a></h2><ul><li>After creating the Service Principal, wait a few minutes for sync, before attempting to set any attribute values</li><li>Step 2&rsquo;s <code>-TargetObjects</code> parameter supports multiple object types: <code>User</code>, <code>Group</code>, <code>AdministrativeUnit</code>, <code>Application</code>, <code>Device</code>, and <code>Organization</code></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/powershell/>Powershell</a></li><li><a href=http://localhost:1313/tags/microsoft-graph/>Microsoft-Graph</a></li><li><a href=http://localhost:1313/tags/entra-id/>Entra-Id</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=http://localhost:1313/>SomethingWentWrong.dev</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>